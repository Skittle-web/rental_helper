<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–µ–Ω–µ–¥–∂–µ—Ä –∞—Ä–µ–Ω–¥—ã –∂–∏–ª—å—è –∏ –≥–æ–ª—å—Ñ-–º–∞—à–∏–Ω</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Language switcher -->
    <div class="top-bar">
        <div class="language-switcher">
            <button id="lang-ru" class="lang-btn active">üá∑üá∫ –†—É—Å</button>
            <button id="lang-en" class="lang-btn">üá¨üáß Eng</button>
        </div>
    </div>
    
    <div class="app-container">
        <!-- –í–µ—Ä—Ö–Ω–µ–µ –º–µ–Ω—é -->
        <div class="header">
            <button class="tab-btn active" data-tab="calendar">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
            <button class="tab-btn" data-tab="properties">–ñ–∏–ª—å–µ</button>
            <button class="tab-btn" data-tab="golf-carts">–ì–æ–ª—å—Ñ-–º–∞—à–∏–Ω—ã</button>
            <button class="tab-btn" data-tab="bookings">–í—Å–µ –±—Ä–æ–Ω–∏</button>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ –ö–∞–ª–µ–Ω–¥–∞—Ä—å -->
        <div id="calendar-tab" class="tab-content active">
            <div class="calendar-controls">
                <div style="display: flex; gap: 10px; align-items: center;">
                    <input type="text" id="date-range" placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—ã..." style="flex: 1;">
                    <button id="check-availability" class="primary-btn">–ü–æ–∫–∞–∑–∞—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–µ</button>
                    <button id="clear-selection" class="secondary-btn">–û—á–∏—Å—Ç–∏—Ç—å</button>
                </div>
                <div class="search-container" style="margin-bottom: 20px;">
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="text" id="calendar-search" class="search-input" 
                               placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –æ–ø–∏—Å–∞–Ω–∏—é, –∞–¥—Ä–µ—Å—É, –≥–æ—Å—Ç—é...">
                        <button id="clear-calendar-search" class="secondary-btn" style="display: none;">‚úï</button>
                    </div>
                    <div id="calendar-search-results" style="margin-top: 5px; font-size: 13px; color: #666;"></div>
                </div>
                <div style="margin-top: 10px;">
                    <button id="prev-month" class="small-btn">‚óÄ</button>
                    <span id="current-month" style="margin: 0 15px; font-weight: bold;"></span>
                    <button id="next-month" class="small-btn">‚ñ∂</button>
                </div>
            </div>
            
            <div class="calendar-container">
                <div class="calendar-wrapper">
                    <div id="calendar"></div>
                </div>
                
                <div class="results-sidebar">
                    <h3 id="available-title">–°–≤–æ–±–æ–¥–Ω–æ–µ –∂–∏–ª—å–µ:</h3>
                    <div id="available-properties" class="properties-list"></div>
                    <div id="available-golf-carts" class="properties-list" style="margin-top: 20px;"></div>
                    
                    <div id="booked-properties-container"></div>
                    
                    <div id="selected-dates-info" style="margin-top: 20px; padding: 10px; background: #f5f5f5; border-radius: 5px;">
                        <small>–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—ã –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ –∏–ª–∏ –≤ –ø–æ–ª–µ –≤—ã—à–µ</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ –ñ–∏–ª—å–µ -->
        <div id="properties-tab" class="tab-content">
            <div class="page-header">
                <h2 id="manage-properties-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–ª—å–µ–º</h2>
                <button id="add-property" class="add-btn">+ –î–æ–±–∞–≤–∏—Ç—å –∂–∏–ª—å–µ</button>
            </div>

            <div class="search-container" style="margin-bottom: 20px;">
                <div style="display: flex; gap: 10px; align-items: center;">
                    <input type="text" id="properties-search" class="search-input" 
                           placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –æ–ø–∏—Å–∞–Ω–∏—é, –∞–¥—Ä–µ—Å—É...">
                    <button id="clear-properties-search" class="secondary-btn" style="display: none;">‚úï</button>
                </div>
                <div id="properties-search-results" style="margin-top: 5px; font-size: 13px; color: #666;"></div>
            </div>

            <div id="properties-list" class="cards-container"></div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ –ì–æ–ª—å—Ñ-–º–∞—à–∏–Ω—ã -->
        <div id="golf-carts-tab" class="tab-content">
            <div class="page-header">
                <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ–ª—å—Ñ-–º–∞—à–∏–Ω–∞–º–∏</h2>
                <button id="add-golf-cart" class="add-btn">+ –î–æ–±–∞–≤–∏—Ç—å –≥–æ–ª—å—Ñ-–º–∞—à–∏–Ω—É</button>
            </div>

            <div class="search-container" style="margin-bottom: 20px;">
                <div style="display: flex; gap: 10px; align-items: center;">
                    <input type="text" id="golf-carts-search" class="search-input" 
                           placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, —Ö–æ–∑—è–∏–Ω—É, –æ–ø–∏—Å–∞–Ω–∏—é...">
                    <button id="clear-golf-carts-search" class="secondary-btn" style="display: none;">‚úï</button>
                </div>
                <div id="golf-carts-search-results" style="margin-top: 5px; font-size: 13px; color: #666;"></div>
            </div>

            <div id="golf-carts-list" class="cards-container"></div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ –í—Å–µ –±—Ä–æ–Ω–∏ -->
        <div id="bookings-tab" class="tab-content">
            <div class="page-header">
                <h2 id="all-bookings-title">–í—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
                <button id="add-booking" class="add-btn">+ –ù–æ–≤–∞—è –±—Ä–æ–Ω—å</button>
            </div>

            <div class="search-container" style="margin-bottom: 20px;">
                <div style="display: flex; gap: 10px; align-items: center;">
                    <input type="text" id="bookings-search" class="search-input" 
                           placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –≥–æ—Å—Ç—é, —Ö–æ–∑—è–∏–Ω—É...">
                    <button id="clear-bookings-search" class="secondary-btn" style="display: none;">‚úï</button>
                </div>
                <div id="bookings-search-results" style="margin-top: 5px; font-size: 13px; color: #666;"></div>
            </div>

            <div id="all-bookings" class="bookings-container"></div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="modal-overlay" class="modal-overlay" style="display: none;"></div>
    
    <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∂–∏–ª—å—è -->
    <div id="property-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3 id="modal-title">–î–æ–±–∞–≤–∏—Ç—å –∂–∏–ª—å–µ</h3>
            <div class="form-group">
                <label>–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
                <input type="text" id="property-name" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–≤–∞—Ä—Ç–∏—Ä–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ">
            </div>
            <div class="form-group">
                <label>–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                <textarea id="property-description" class="form-input" rows="3" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏..."></textarea>
            </div>
            <div class="form-group">
                <label>–ê–¥—Ä–µ—Å:</label>
                <input type="text" id="property-address" class="form-input" placeholder="–ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å">
            </div>
            <div class="form-group">
                <label>–¶–≤–µ—Ç –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ:</label>
                <input type="color" id="property-color" value="#4CAF50">
            </div>
            
            <!-- –ö–Ω–æ–ø–∫–∞ "–û–ß–ï–ù–¨ –í–ê–ñ–ù–û" —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º –ø–æ–ª–µ–º -->
            <div class="form-group important-container">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                        <input type="checkbox" id="property-important"> 
                        <span class="important-label">‚ùó –û–ß–ï–ù–¨ –í–ê–ñ–ù–û–ï –ñ–ò–õ–¨–ï</span>
                    </label>
                </div>
                <textarea 
                    id="property-important-text" 
                    class="form-input important-textarea" 
                    rows="2" 
                    placeholder="–ß—Ç–æ –≤–∞–∂–Ω–æ? –ù–∞–ø—Ä–∏–º–µ—Ä: –ò–¥–µ—Ç —Ä–µ–º–æ–Ω—Ç, –Ω–µ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é, –æ—Å–æ–±—ã–µ —É—Å–ª–æ–≤–∏—è..."
                    style="display: none;"
                ></textarea>
            </div>

            <div class="modal-actions">
                <button id="save-property" class="primary-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button id="cancel-property" class="secondary-btn">–û—Ç–º–µ–Ω–∞</button>
                <button id="delete-property" class="danger-btn" style="display: none;">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≥–æ–ª—å—Ñ-–º–∞—à–∏–Ω—ã -->
    <div id="golf-cart-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3>–î–æ–±–∞–≤–∏—Ç—å –≥–æ–ª—å—Ñ-–º–∞—à–∏–Ω—É</h3>
            <div class="form-group">
                <label>–ù–∞–∑–≤–∞–Ω–∏–µ / –ú–æ–¥–µ–ª—å:</label>
                <input type="text" id="golf-cart-name" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Yamaha Drive2">
            </div>
            <div class="form-group">
                <label>–•–æ–∑—è–∏–Ω:</label>
                <input type="text" id="golf-cart-owner" class="form-input" placeholder="–§–ò–û –≤–ª–∞–¥–µ–ª—å—Ü–∞">
            </div>
            <div class="form-group">
                <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç:</label>
                <input type="number" id="golf-cart-seats" class="form-input" placeholder="2 –∏–ª–∏ 4" min="1" max="8">
            </div>
            <div class="form-group">
                <label>–û–ø–∏—Å–∞–Ω–∏–µ / –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:</label>
                <textarea id="golf-cart-description" class="form-input" rows="3" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏..."></textarea>
            </div>
            <div class="form-group">
                <label>–¶–≤–µ—Ç –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ:</label>
                <input type="color" id="golf-cart-color" value="#FF9800">
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ "–û–ß–ï–ù–¨ –í–ê–ñ–ù–û" —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º –ø–æ–ª–µ–º -->
            <div class="form-group important-container">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                        <input type="checkbox" id="golf-cart-important"> 
                        <span class="important-label">‚ùó –û–ß–ï–ù–¨ –í–ê–ñ–ù–ê–Ø –ú–ê–®–ò–ù–ê</span>
                    </label>
                </div>
                <textarea 
                    id="golf-cart-important-text" 
                    class="form-input important-textarea" 
                    rows="2" 
                    placeholder="–ß—Ç–æ –≤–∞–∂–Ω–æ? –ù–∞–ø—Ä–∏–º–µ—Ä: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö –≤–æ–¥–∏—Ç–µ–ª–µ–π..."
                    style="display: none;"
                ></textarea>
            </div>

            <div class="modal-actions">
                <button id="save-golf-cart" class="primary-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button id="cancel-golf-cart" class="secondary-btn">–û—Ç–º–µ–Ω–∞</button>
                <button id="delete-golf-cart" class="danger-btn" style="display: none;">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div id="booking-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3 id="booking-modal-title">–ù–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
            <div class="form-group">
                <label id="booking-type-label">–¢–∏–ø:</label>
                <select id="booking-type" class="form-input">
                    <option value="property">–ñ–∏–ª—å–µ</option>
                    <option value="golf-cart">–ì–æ–ª—å—Ñ-–º–∞—à–∏–Ω–∞</option>
                </select>
            </div>
            <div class="form-group">
                <label id="booking-item-label">–û–±—ä–µ–∫—Ç:</label>
                <select id="booking-item" class="form-input"></select>
            </div>
            <div class="form-group">
                <label>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:</label>
                <input type="date" id="booking-start" class="form-input">
            </div>
            <div class="form-group">
                <label>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è:</label>
                <input type="date" id="booking-end" class="form-input">
            </div>
            <div class="form-group">
                <label>–ò–º—è –≥–æ—Å—Ç—è:</label>
                <input type="text" id="booking-guest" class="form-input" placeholder="–§–ò–û –≥–æ—Å—Ç—è">
            </div>
            <div class="form-group">
                <label>–¢–µ–ª–µ—Ñ–æ–Ω:</label>
                <input type="tel" id="booking-phone" class="form-input" placeholder="+7 999 123-45-67">
            </div>
            <div class="form-group">
                <label>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:</label>
                <textarea id="booking-notes" class="form-input" rows="3" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"></textarea>
            </div>
            <div class="form-group">
                <label>–¶–µ–Ω–∞ –±—Ä–æ–Ω–∏ (‚ÇΩ):</label>
                <input type="number" id="booking-price" class="form-input" placeholder="–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å">
            </div>
            <div class="form-group">
                <label>–î–µ–ø–æ–∑–∏—Ç (‚ÇΩ):</label>
                <input type="number" id="booking-deposit" class="form-input" placeholder="–°—É–º–º–∞ –¥–µ–ø–æ–∑–∏—Ç–∞">
            </div>
            <div class="form-group checkbox-group">
                <label>
                    <input type="checkbox" id="booking-deposit-paid"> 
                    <span>–î–µ–ø–æ–∑–∏—Ç –≤–Ω–µ—Å–µ–Ω</span>
                </label>
            </div>
            <div class="form-group">
                <label>–ü–æ–ª–∏—Ç–∏–∫–∞ –æ—Ç–º–µ–Ω—ã:</label>
                <select id="booking-cancellation" class="form-input">
                    <option value="free">–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –æ—Ç–º–µ–Ω–∞</option>
                    <option value="paid">–ü–ª–∞—Ç–Ω–∞—è –æ—Ç–º–µ–Ω–∞</option>
                    <option value="partial">–ß–∞—Å—Ç–∏—á–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è</option>
                    <option value="non-refundable">–ù–µ–≤–æ–∑–≤—Ä–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ</option>
                </select>
            </div>
            <div class="form-group">
                <label>–°—Ä–æ–∫ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –æ—Ç–º–µ–Ω—ã:</label>
                <input type="text" id="booking-free-cancel-until" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –∑–∞ 7 –¥–Ω–µ–π –¥–æ –∑–∞–µ–∑–¥–∞">
            </div>
            <div class="modal-actions">
                <button id="save-booking" class="primary-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button id="cancel-booking" class="secondary-btn">–û—Ç–º–µ–Ω–∞</button>
                <button id="delete-booking" class="danger-btn" style="display: none;">–£–¥–∞–ª–∏—Ç—å –±—Ä–æ–Ω—å</button>
            </div>
        </div>
    </div>

    <!-- –°–∫—Ä—ã—Ç—ã–π input –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ —Ñ–∞–π–ª–æ–≤ -->
    <input type="file" id="import-file" accept=".json" style="display: none;">

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ru.js"></script>
    <script src="app.js"></script>
</body>
</html>
